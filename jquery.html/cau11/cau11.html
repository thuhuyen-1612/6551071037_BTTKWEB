<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>Hiển thị tên và phần mở rộng file</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
    body{font-family:Arial, sans-serif;padding:24px}
    .box{max-width:520px;padding:14px;border:1px solid #ddd;border-radius:6px;background:#fafafa}
    .info{margin-top:12px;padding:10px;border-radius:4px;background:#fff;border:1px solid #eee}
    .label{font-weight:600;margin-right:6px}
  </style>
</head>
<body>
  <div class="box">
    <div>Chọn file để hiện tên và phần mở rộng:</div>
    <input type="file" id="fileInput" />
    <div id="result" class="info" style="display:none">
      <div><span class="label">Tên file:</span><span id="fname"></span></div>
      <div><span class="label">Phần mở rộng:</span><span id="fext"></span></div>
      <div><span class="label">Kích thước:</span><span id="fsize"></span></div>
    </div>
  </div>

  <script>
    $(function(){
      $("#fileInput").on("change", function(){
        var file = this.files && this.files[0];
        if(!file){
          $("#result").hide();
          return;
        }
        var name = file.name || "";
        var parts = name.split(".");
        var ext = parts.length > 1 ? parts.pop().toLowerCase() : "(không có)";
        var size = file.size;
        function formatBytes(bytes){
          if(bytes === 0) return "0 B";
          var k = 1024, sizes = ["B","KB","MB","GB","TB"], i = Math.floor(Math.log(bytes)/Math.log(k));
          return (bytes / Math.pow(k,i)).toFixed(2) + " " + sizes[i];
        }
        $("#fname").text(name);
        $("#fext").text(ext);
        $("#fsize").text(formatBytes(size));
        $("#result").show();
      });
    });
  </script>
</body>
</html>
